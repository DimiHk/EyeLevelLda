<div id="image__container" class="image__container">
  <img
    src="https://cdn.shopify.com/s/files/1/0920/9806/8863/files/young-people-having-fun-white-party.jpg?v=1750197428"
    alt="Portugal"
    width="100%"
    height="100%"
    loading="lazy"
  >
</div>

{% stylesheet %}
  .image__container {
    position: relative;
    aspect-ratio: 16 / 9;
    overflow: hidden;
    border-bottom-right-radius: 0px;
    border-bottom-left-radius: 0px;
  }

  .image__container img {
    object-fit: fill;
    filter: blur(10px);
    opacity: 0.7;
    transition: filter 0.6s ease, opacity 0.6s ease;
    will-change: filter, opacity;
  }

  .image__container img.loaded {
    filter: blur(0px);
    opacity: 1;
  }

  @media screen and (min-width: 768px) {
    .image__container {
      border-bottom-right-radius: 80px;
      border-bottom-left-radius: 80px;
    }
  }
{% endstylesheet %}

{% javascript %}
  document.addEventListener('DOMContentLoaded', function () {
    const img = document.querySelector('#image__container img');
    if (img.complete) {
      img.classList.add('loaded');
    } else {
      img.addEventListener('load', () => {
        img.classList.add('loaded');
      });
    }
  });
{% endjavascript %}

{% schema %}
{
  "name": "Custom Image/Video",
  "tag": "section",
  "settings": [],
  "presets": [
    {
      "name": "Custom Media Block",
      "category": "Media"
    }
  ]
}
{% endschema %}
